# This PKGBUILD is part of the VDR4Arch project [https://github.com/vdr4arch]

# Maintainer: Christopher Reimer <mail+vdr4arch[at]c-reimer[dot]de>
pkgname=tntdb
pkgver=1.3
pkgrel=2
pkgdesc="C++-class-library for easy access to databases (only sqlite support)"
url="http://www.tntnet.org"
arch=('x86_64' 'i686' 'arm' 'armv6h' 'armv7h')
license=('GPL2')
depends=('cxxtools' 'sqlite')
makedepends=('git')
source=("git+https://github.com/maekitalo/tntdb.git#commit=9a3d892bd73b9cb73764ba52c658d4f1665cfa28")
md5sums=('SKIP')

prepare() {
  cd "${srcdir}/${pkgname}/${pkgname}"
  ./autogen.sh
}

build() {
  cd "${srcdir}/${pkgname}/${pkgname}"
  ./configure --prefix=/usr \
              --disable-static \
              --without-postgresql \
              --without-replicate \
              --without-mysql
  make
}

package() {
  cd "${srcdir}/${pkgname}/${pkgname}"

  make DESTDIR="${pkgdir}" install
}
